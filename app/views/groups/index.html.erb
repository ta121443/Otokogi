<% provide(:title, "グループ一覧") %>
<h1 class="title">グループ一覧</h1>

<div class="row">
  <div class="col-md-4 col-md-offset-5">
    <%= link_to "新規グループ作成", new_group_path, class:"btn btn-primary btn-lg col-md-6 col-md-offset-3"%>
  </div>
</div>


<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col" class="text-center">#</th>
      <th scope="col" class="text-center">グループ名</th>
      <th scope="col" class="text-center">所属人数</th>
      <th scope="col" class="text-center"></th>
    </tr>
  </thead>
  <tbody>
    <% n = 1 %>
    <% @groups.each do | group | %>
      <tr>
        <th scope="row" class="text-center"><%= n %></th>
        <td class="text-center"><%=group.name%></td>        
        <td class="text-center"><%=group.users.count%></td>
        <td class="text-center">
          <%= link_to "削除", "#{group.session_id}/groups/#{group.id}",
              data: { confirm: "削除してもよろしいですか？", turbo_method: :delete } 
          %>
        </td>
      </tr>
      <% n += 1 %>
    <% end %>
      <tr>
        <th scope="row" class="text-center"><%= n %></th>
        <td class="text-center"> 所属なし </td>        
        <td class="text-center"><%=@nongroup.count%></td>
        <td></td>
      </tr>
  </tbody>
</table>
<div class="row">
  <div class="col-md-4 col-md-offset-5 btn-back">
    <%= link_to "登録情報画面", top_path, class:"btn btn-primary btn-lg col-md-6 col-md-offset-3"%>
  </div>
</div>
